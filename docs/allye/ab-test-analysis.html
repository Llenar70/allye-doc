<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-advanced/allye-ab-test-result-analysis" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">A/B Test Result Analysis |  </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://llenar70.github.io/allye-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://llenar70.github.io/allye-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://llenar70.github.io/allye-doc/docs/allye/ab-test-analysis"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="A/B Test Result Analysis |  "><meta data-rh="true" name="description" content="Step-by-step workflow in Allye for AA checks, AB test statistics, CUPED variance reduction, stratification, clustering, and causal inference with CATEs."><meta data-rh="true" property="og:description" content="Step-by-step workflow in Allye for AA checks, AB test statistics, CUPED variance reduction, stratification, clustering, and causal inference with CATEs."><link data-rh="true" rel="icon" href="/allye-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://llenar70.github.io/allye-doc/docs/allye/ab-test-analysis"><link data-rh="true" rel="alternate" href="https://llenar70.github.io/allye-doc/docs/allye/ab-test-analysis" hreflang="en"><link data-rh="true" rel="alternate" href="https://llenar70.github.io/allye-doc/docs/allye/ab-test-analysis" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Handson Tutorial","item":"https://llenar70.github.io/allye-doc/docs/category/handson-tutorial"},{"@type":"ListItem","position":2,"name":"A/B Test Result Analysis","item":"https://llenar70.github.io/allye-doc/docs/allye/ab-test-analysis"}]}</script><link rel="alternate" type="application/rss+xml" href="/allye-doc/blog/rss.xml" title="  RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/allye-doc/blog/atom.xml" title="  Atom Feed"><link rel="stylesheet" href="/allye-doc/assets/css/styles.7b2d3c09.css">
<script src="/allye-doc/assets/js/runtime~main.7e510d4c.js" defer="defer"></script>
<script src="/allye-doc/assets/js/main.42ec0e2d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/allye-doc/img/6852cb04a48fccea34beed5e_allye_logo.png"><link rel="preload" as="image" href="/allye-doc/assets/images/ABTest_templateworkflows-843d9e92511ee82d63d71c3fb3dcb719.png"><link rel="preload" as="image" href="/allye-doc/assets/images/adv_tutorial_abtest1-0f3b901c993005aaecf7543d36e0c40f.png"><link rel="preload" as="image" href="/allye-doc/assets/images/adv_tutorial_cuped-3fc630fd9e8a995092a308b411a26786.png"><link rel="preload" as="image" href="/allye-doc/assets/images/adv_tutorial_segmentation-d28c3db18c12074f4aeb1f44365249a0.png"><link rel="preload" as="image" href="/allye-doc/assets/images/adv_tutorial_causalforest-24751d072d2523ddbddc55ab51660255.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.ai-allye.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/allye-doc/img/6852cb04a48fccea34beed5e_allye_logo.png" alt="Allye Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/allye-doc/img/6852cb04a48fccea34beed5e_allye_logo.png" alt="Allye Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"> </b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/allye-doc/docs/welcome">Tutorial</a><a class="navbar__item navbar__link" href="/allye-doc/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/allye-doc/docs/welcome"><span title="Allye Documentation" class="linkLabel_WmDU">Allye Documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/allye-doc/docs/category/get-started"><span title="Get Started" class="categoryLinkLabel_W154">Get Started</span></a><button aria-label="Collapse sidebar category &#x27;Get Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/get-started/allye-quickstart"><span title="Quickstart" class="linkLabel_WmDU">Quickstart</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/get-started/allye-connected-visualization"><span title="Connected Visualization" class="linkLabel_WmDU">Connected Visualization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/get-started/allye-Unified_Environment"><span title="Unified Environment" class="linkLabel_WmDU">Unified Environment</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/get-started/allye-changecolor"><span title="Change Color &amp; Font" class="linkLabel_WmDU">Change Color &amp; Font</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/get-started/allye-save"><span title="Save" class="linkLabel_WmDU">Save</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/allye-doc/docs/category/handson-tutorial"><span title="Handson Tutorial" class="categoryLinkLabel_W154">Handson Tutorial</span></a><button aria-label="Collapse sidebar category &#x27;Handson Tutorial&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/allye/adv-tutorial-overview"><span title="Tutorial Overview" class="linkLabel_WmDU">Tutorial Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/tutorial-advanced/EDA"><span title="Exploratory data analysis" class="linkLabel_WmDU">Exploratory data analysis</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/allye-doc/docs/allye/ab-test-analysis"><span title="A/B Test Result Analysis" class="linkLabel_WmDU">A/B Test Result Analysis</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/tutorial-advanced/Quasi_experimental_Analysis"><span title="Causal Inference" class="linkLabel_WmDU">Causal Inference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/tutorial-advanced/Machine_Learning_Prototyping"><span title="Machine learning predictive model prototyping" class="linkLabel_WmDU">Machine learning predictive model prototyping</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/tutorial-advanced/Notebook Manager"><span title="Notebooks Manager" class="linkLabel_WmDU">Notebooks Manager</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/allye-doc/docs/category/agent-allye"><span title="Agent Allye" class="categoryLinkLabel_W154">Agent Allye</span></a><button aria-label="Collapse sidebar category &#x27;Agent Allye&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/agent/Agent_Overview"><span title="Overview &amp; Quickstart" class="linkLabel_WmDU">Overview &amp; Quickstart</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/agent/Canvas_Agent_Settings"><span title="Canvas Agent Settings" class="linkLabel_WmDU">Canvas Agent Settings</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/allye-doc/docs/agent/Notebook_Agent_Settings"><span title="Notebook Agent Settings" class="linkLabel_WmDU">Notebook Agent Settings</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/allye-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/allye-doc/docs/category/handson-tutorial"><span>Handson Tutorial</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">A/B Test Result Analysis</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>A/B Test Result Analysis</h1></header>
<div class="doc-tag-row"><span class="doc-tag doc-tag--green">Allye Advanced Feature</span></div>
<blockquote>
<p><em>Your A/B test for the new product feature has concluded. Let’s analyze the data to determine whether there was a statistically significant effect.</em></p>
</blockquote>
<p>One of the most common types of data analysis is evaluating experimental results. In tech companies and research organizations, countless experiments are conducted. It’s rare for a single trial to produce the expected outcome right away—in many cases, the results are “flat,” showing no clear effect.</p>
<p>But this is exactly when data analysis becomes truly valuable. Even when the results aren’t as hoped, by digging into the experiment’s data, you can discover new insights, hints, and inspiration. These lead to refining your ideas, which can ultimately result in new discoveries and business value.</p>
<p>In this section, we’ll learn a framework for breaking down and analyzing experimental results using Allye.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tutorial-overview">Tutorial overview<a href="#tutorial-overview" class="hash-link" aria-label="Direct link to Tutorial overview" title="Direct link to Tutorial overview" translate="no">​</a></h3>
<p>This tutorial walks through a full experiment analysis in Allye. You will:</p>
<ul>
<li class="">Validate randomization with an A/A test and visual checks.</li>
<li class="">Run the A/B test, interpret effect size and p-values.</li>
<li class="">Apply CUPED to reduce variance and increase power.</li>
<li class="">Segment users via stratification and clustering to find heterogeneous effects.</li>
<li class="">Use causal inference (Causal Tree and Causal Forest) to predict individual treatment effects (ITE or CATE: conditional average treatment effect) and explore drivers.</li>
</ul>
<p>Note: You can find following workflow files in Template Workflows</p>
<p><img src="/allye-doc/assets/images/ABTest_templateworkflows-843d9e92511ee82d63d71c3fb3dcb719.png" alt="ABTest_templateworkflows" style="max-height:80vh;width:100%;object-fit:contain"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-aa-test-randomization-check--ab-test-hypothesis-testing">1. A/A Test (randomization check) &amp; A/B Test (hypothesis testing)<a href="#1-aa-test-randomization-check--ab-test-hypothesis-testing" class="hash-link" aria-label="Direct link to 1. A/A Test (randomization check) &amp; A/B Test (hypothesis testing)" title="Direct link to 1. A/A Test (randomization check) &amp; A/B Test (hypothesis testing)" translate="no">​</a></h3>
<p><em>First, perform an A/A test to visualize and statistically verify that there is no bias between the Control Group and the Treatment Group. Then, conduct statistical tests on the outcome variable to evaluate the effect size and check the p-value.</em></p>
<p><img src="/allye-doc/assets/images/adv_tutorial_abtest1-0f3b901c993005aaecf7543d36e0c40f.png" alt="AA Test and AB Test" style="max-height:80vh;width:100%;object-fit:contain"></p>
<ol>
<li class="">
<p>Add a <code>File</code> widget and load the experiment dataset.</p>
</li>
<li class="">
<p>Connect <code>File → Distributions</code> to visualize baseline variables (e.g., past logins, purchases, demographics) split by grade. Look for overlap between control and treatment.</p>
</li>
<li class="">
<p>Connect <code>File → AB Test</code> and set it to an <strong>AA Test</strong> (test type = Auto/AA). Select several pre-period metrics as targets. Review:</p>
<ul>
<li class="">Effect size (should be near zero if randomized well).</li>
<li class="">p-value (should be non-significant (&gt; 0.05); a small p-value hints at allocation bias).</li>
<li class="">If you see systematic differences, investigate assignment logic before trusting AB results.</li>
</ul>
</li>
<li class="">
<p>Add another <code>AB Test</code> widget connected to <code>File</code>.</p>
</li>
<li class="">
<p>Pick the post-period target metric (e.g., num_login).</p>
</li>
<li class="">
<p>Interpret:</p>
<ul>
<li class=""><strong>Effect size</strong> and confidence interval.</li>
<li class=""><strong>p-value</strong> and power. If p-value is borderline and power is low, consider variance reduction (next section).</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-cuped-variance-reduction">2. CUPED (variance reduction)<a href="#2-cuped-variance-reduction" class="hash-link" aria-label="Direct link to 2. CUPED (variance reduction)" title="Direct link to 2. CUPED (variance reduction)" translate="no">​</a></h3>
<p><em>The A/B test results are flat! Before giving up, let&#x27;s sharpen our view. Sometimes the signal is drowned out by the natural variance in user behavior. We use CUPED (Controlled Experiments Using Pre-Existing Data) to subtract this noise and increase statistical power.</em></p>
<ul>
<li class="">CUPED is a method proposed by Meta researchers to reduce variance in A/B tests and improve statistical power (Deng et al., 2013). In a standard A/B test, even with random assignment, individual behavioral variability can be large, requiring a substantial sample size to detect experimental effects. CUPED addresses this issue by using pre-experiment data as covariates, based on the idea of reducing noise.</li>
</ul>
<p><img src="/allye-doc/assets/images/adv_tutorial_cuped-3fc630fd9e8a995092a308b411a26786.png" alt="CUPED" style="max-height:80vh;width:100%;object-fit:contain"></p>
<ol>
<li class="">Connect <code>File → Regression Analysis</code>.</li>
<li class="">In <code>Features</code>, select pre-experiment covariates (e.g., past 14d logins/purchases). Set the post-period outcome as the target. Regularization: None (for a plain CUPED baseline), or add if you have many covariates.</li>
<li class="">From the regression output, send <strong>Predictions → AB Test</strong>.</li>
<li class="">Re-run the AB test on <strong>residuals</strong>. A smaller standard error and lower p-value indicates CUPED successfully reduced variance.</li>
</ol>
<p>P-value was reduced but still not statistically significant. Let&#x27;s move on to the next analysis.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-stratification-and-clustering-segment-effects">3. Stratification and Clustering (segment effects)<a href="#3-stratification-and-clustering-segment-effects" class="hash-link" aria-label="Direct link to 3. Stratification and Clustering (segment effects)" title="Direct link to 3. Stratification and Clustering (segment effects)" translate="no">​</a></h3>
<p><em>If the average effect is zero, but the p-value is dropping, it’s possible that positive and negative effects are canceling each other out. Let&#x27;s hypothesize that &quot;Heavy Users&quot; might like the new product feature, while &quot;Light Users&quot; find it cluttered. Let’s explore the data and identify differences in effect size across segments. Here, we stratify or cluster the data to segment users and estimate the effect size for each segment.</em></p>
<p><img src="/allye-doc/assets/images/adv_tutorial_segmentation-d28c3db18c12074f4aeb1f44365249a0.png" alt="Segmentation and Clustering" style="max-height:80vh;width:100%;object-fit:contain"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="stratification">Stratification<a href="#stratification" class="hash-link" aria-label="Direct link to Stratification" title="Direct link to Stratification" translate="no">​</a></h4>
<ol>
<li class=""><strong>Define Segments</strong>: <code>File → Select Rows</code> to create a segment, e.g., <strong>active users</strong> with <code>past_login_14d &gt; 7</code>.</li>
<li class=""><strong>Test per Segment</strong>:</li>
</ol>
<ul>
<li class="">Send <strong>Matching Data → AB Test</strong> for the active segment.</li>
<li class="">Send <strong>Unmatched Data → AB Test</strong> for the inactive segment.</li>
</ul>
<ol start="3">
<li class="">Compare effect sizes and p-values across segments.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustering-optional">Clustering (optional)<a href="#clustering-optional" class="hash-link" aria-label="Direct link to Clustering (optional)" title="Direct link to Clustering (optional)" translate="no">​</a></h4>
<p><em>If you don&#x27;t have a clear hypothesis, let Clustering find the segments.</em></p>
<ol>
<li class=""><code>File → Select Columns</code> to choose clustering features (e.g., past logins, purchases).</li>
<li class=""><code>Select Columns → k-Means</code> (k=3 as a start; normalize features).</li>
<li class=""><code>k-Means → Scatter Plot</code> to color users by cluster and understand their profiles.</li>
<li class=""><code>k-Means → Select Rows (Cluster#1) → AB Test</code> to estimate effects per cluster. Repeat for other clusters.</li>
<li class="">Summarize which clusters respond positively and which do not.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-causal-inference-for-cate-estimate">4. Causal inference for CATE estimate<a href="#4-causal-inference-for-cate-estimate" class="hash-link" aria-label="Direct link to 4. Causal inference for CATE estimate" title="Direct link to 4. Causal inference for CATE estimate" translate="no">​</a></h3>
<p><em>We now know the effect varies by user. Instead of manually guessing segments, let&#x27;s use Causal AI to predict the exact Treatment Effect (CATE) for every single user. Use these prediction results to gain a deeper understanding of your supporters’ personas.</em></p>
<p><img src="/allye-doc/assets/images/adv_tutorial_causalforest-24751d072d2523ddbddc55ab51660255.png" alt="Causal Forest DML for CATE" style="max-height:80vh;width:100%;object-fit:contain"></p>
<ol>
<li class=""><strong>Causal Forest DML</strong>: <code>File → Forest DML</code>. <code>Causal Forest Double Machine Learning</code> is designed to robustly estimate Conditional Average Treatment Effects (CATE) by combining orthogonalization with a causal forest for heterogeneous treatment effect modeling. <em>-- Susan Athey &quot;Generalized Random Forests&quot; (2019)</em></li>
<li class="">Inspect:<!-- -->
<ul>
<li class=""><code>Effect Model Coefficient</code> in the <code>Forest DML</code> suggests that <code>past_14d_aov</code> is an important factors for the treatment effect.</li>
<li class="">Discretize <code>past_14d_aov</code> to 5 segments (very high ~ very low). to make comparisons easier. <code>Preprocess</code> widget comes in handy.</li>
</ul>
</li>
<li class="">Understand Personalization Strategy</li>
</ol>
<ul>
<li class="">In the high-AOV segment, a relatively high CATE is observed, while in the low-AOV segment, the CATE is relatively lower. This suggests that our idea appears to be an effective intervention for users with high AOV.</li>
<li class="">Use these insights to target future rollouts (e.g., enable the feature only for high-CATE segments).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-refining-our-strategy">5. Refining our strategy<a href="#5-refining-our-strategy" class="hash-link" aria-label="Direct link to 5. Refining our strategy" title="Direct link to 5. Refining our strategy" translate="no">​</a></h3>
<p><em>By moving beyond simple averages, we turned a &quot;failed&quot; experiment into a strategic insight. Here is what we found and what we propose.</em></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-the-discovery-inactive---high-aov-users">1. <strong>The Discovery: Inactive - High AOV Users</strong><a href="#1-the-discovery-inactive---high-aov-users" class="hash-link" aria-label="Direct link to 1-the-discovery-inactive---high-aov-users" title="Direct link to 1-the-discovery-inactive---high-aov-users" translate="no">​</a></h4>
<p>Initial A/B test results showed a flat trend overall. However, through Stratification and Causal Forest DML analysis, we uncovered a striking contrast:</p>
<ul>
<li class="">Inactive &amp; High-AOV Users: Showed a statistically significant uplift in engagement and conversion.</li>
<li class="">Interpretation: For users who are unfamiliar with our product catalog (New Users) or haven&#x27;t visited in a while (Dormant Users), this feature successfully acts as a &quot;activation engine&quot;.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-strategic-proposal-pivot-to-activation--reactivation">2. <strong>Strategic Proposal: Pivot to &quot;Activation &amp; Reactivation&quot;</strong><a href="#2-strategic-proposal-pivot-to-activation--reactivation" class="hash-link" aria-label="Direct link to 2-strategic-proposal-pivot-to-activation--reactivation" title="Direct link to 2-strategic-proposal-pivot-to-activation--reactivation" translate="no">​</a></h4>
<p>Instead of a general rollout (which risks annoying our loyal base), we propose repacking this feature as a dedicated Growth Tool.</p>
<ul>
<li class="">Targeted Rollout: Enable the widget exclusively for:<!-- -->
<ul>
<li class="">New Users: To assist with onboarding and first purchase.</li>
<li class="">Dormant Users: As part of &quot;Welcome Back&quot; campaigns to boost reactivation.</li>
<li class="">Low-AOV Segments: To encourage cross-selling and increase basket size.
Hide for Power Users: Keep the interface clean for high-frequency users to maintain their efficiency.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-next-steps-long-term-value-verification">3. <strong>Next Steps: Long-term Value Verification</strong><a href="#3-next-steps-long-term-value-verification" class="hash-link" aria-label="Direct link to 3-next-steps-long-term-value-verification" title="Direct link to 3-next-steps-long-term-value-verification" translate="no">​</a></h4>
<p>Short-term clicks don&#x27;t always translate to long-term loyalty.</p>
<ul>
<li class="">Long-term Holdout: We will maintain a small control group within the &quot;Inactive&quot; segment for the next 6 months.</li>
<li class="">Key Metrics: We must monitor Retention Rate and LTV to ensure the &quot;reactivated&quot; users stay engaged and don&#x27;t churn after the novelty wears off.</li>
</ul>
<p><strong>Summary</strong>: The data saved us from scrapping a valuable feature. By identifying who benefits (Inactive/Low-AOV), we can deploy this feature where it creates the most value—turning cold traffic into active customers.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Llenar70/allye-doc/tree/main/web-docs/docs/tutorial-advanced/AB_Test_Result_Analysis.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/allye-doc/docs/tutorial-advanced/EDA"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Exploratory data analysis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/allye-doc/docs/tutorial-advanced/Quasi_experimental_Analysis"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Causal Inference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tutorial-overview" class="table-of-contents__link toc-highlight">Tutorial overview</a></li><li><a href="#1-aa-test-randomization-check--ab-test-hypothesis-testing" class="table-of-contents__link toc-highlight">1. A/A Test (randomization check) &amp; A/B Test (hypothesis testing)</a></li><li><a href="#2-cuped-variance-reduction" class="table-of-contents__link toc-highlight">2. CUPED (variance reduction)</a></li><li><a href="#3-stratification-and-clustering-segment-effects" class="table-of-contents__link toc-highlight">3. Stratification and Clustering (segment effects)</a></li><li><a href="#4-causal-inference-for-cate-estimate" class="table-of-contents__link toc-highlight">4. Causal inference for CATE estimate</a></li><li><a href="#5-refining-our-strategy" class="table-of-contents__link toc-highlight">5. Refining our strategy</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>