"use strict";(globalThis.webpackChunkweb_docs=globalThis.webpackChunkweb_docs||[]).push([[553],{698:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/adv_tutorial_causalforest-24751d072d2523ddbddc55ab51660255.png"},979:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/adv_tutorial_cuped-3fc630fd9e8a995092a308b411a26786.png"},2670:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/adv_tutorial_abtest1-0f3b901c993005aaecf7543d36e0c40f.png"},2928:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"tutorial-advanced/allye-ab-test-result-analysis","title":"A/B Test Result Analysis","description":"Step-by-step workflow in Allye for AA checks, AB test statistics, CUPED variance reduction, stratification, clustering, and causal inference with CATEs.","source":"@site/docs/tutorial-advanced/AB_Test_Result_Analysis.md","sourceDirName":"tutorial-advanced","slug":"/allye/ab-test-analysis","permalink":"/allye-doc/docs/allye/ab-test-analysis","draft":false,"unlisted":false,"editUrl":"https://github.com/Llenar70/allye-doc/tree/main/web-docs/docs/tutorial-advanced/AB_Test_Result_Analysis.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"id":"allye-ab-test-result-analysis","title":"A/B Test Result Analysis","slug":"/allye/ab-test-analysis","description":"Step-by-step workflow in Allye for AA checks, AB test statistics, CUPED variance reduction, stratification, clustering, and causal inference with CATEs.","sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Exploratory data analysis","permalink":"/allye-doc/docs/tutorial-advanced/EDA"},"next":{"title":"Survey Analysis","permalink":"/allye-doc/docs/tutorial-advanced/Survey_Analysis"}}');var i=s(4848),a=s(8453);const r={id:"allye-ab-test-result-analysis",title:"A/B Test Result Analysis",slug:"/allye/ab-test-analysis",description:"Step-by-step workflow in Allye for AA checks, AB test statistics, CUPED variance reduction, stratification, clustering, and causal inference with CATEs.",sidebar_position:10},l="A/B Test Result Analysis",o={},c=[{value:"Tutorial overview",id:"tutorial-overview",level:3},{value:"1. A/A Test (randomization check) &amp; A/B Test (hypothesis testing)",id:"1-aa-test-randomization-check--ab-test-hypothesis-testing",level:3},{value:"2. CUPED (variance reduction)",id:"2-cuped-variance-reduction",level:3},{value:"3. Stratification and Clustering (segment effects)",id:"3-stratification-and-clustering-segment-effects",level:3},{value:"Stratification",id:"stratification",level:4},{value:"Clustering (optional)",id:"clustering-optional",level:4},{value:"4. Causal inference for CATE estimate",id:"4-causal-inference-for-cate-estimate",level:3},{value:"5. Refining our strategy",id:"5-refining-our-strategy",level:3},{value:"1. <strong>The Discovery: Inactive - High AOV Users</strong>",id:"1-the-discovery-inactive---high-aov-users",level:4},{value:"2. <strong>Strategic Proposal: Pivot to &quot;Activation &amp; Reactivation&quot;</strong>",id:"2-strategic-proposal-pivot-to-activation--reactivation",level:4},{value:"3. <strong>Next Steps: Long-term Value Verification</strong>",id:"3-next-steps-long-term-value-verification",level:4}];function d(e){const t={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"ab-test-result-analysis",children:"A/B Test Result Analysis"})}),"\n",(0,i.jsx)("div",{className:"doc-tag-row",children:(0,i.jsx)("span",{className:"doc-tag doc-tag--green",children:"Allye Advanced Feature"})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Your A/B test for the new product feature has concluded. Let\u2019s analyze the data to determine whether there was a statistically significant effect."})}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"One of the most common types of data analysis is evaluating experimental results. In tech companies and research organizations, countless experiments are conducted. It\u2019s rare for a single trial to produce the expected outcome right away\u2014in many cases, the results are \u201cflat,\u201d showing no clear effect."}),"\n",(0,i.jsx)(t.p,{children:"But this is exactly when data analysis becomes truly valuable. Even when the results aren\u2019t as hoped, by digging into the experiment\u2019s data, you can discover new insights, hints, and inspiration. These lead to refining your ideas, which can ultimately result in new discoveries and business value."}),"\n",(0,i.jsx)(t.p,{children:"In this section, we\u2019ll learn a framework for breaking down and analyzing experimental results using Allye."}),"\n",(0,i.jsx)(t.h3,{id:"tutorial-overview",children:"Tutorial overview"}),"\n",(0,i.jsx)(t.p,{children:"This tutorial walks through a full experiment analysis in Allye. You will:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Validate randomization with an A/A test and visual checks."}),"\n",(0,i.jsx)(t.li,{children:"Run the A/B test, interpret effect size and p-values."}),"\n",(0,i.jsx)(t.li,{children:"Apply CUPED to reduce variance and increase power."}),"\n",(0,i.jsx)(t.li,{children:"Segment users via stratification and clustering to find heterogeneous effects."}),"\n",(0,i.jsx)(t.li,{children:"Use causal inference (Causal Tree and Causal Forest) to predict individual treatment effects (ITE or CATE: conditional average treatment effect) and explore drivers."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Note: You can find following workflow files in Template Workflows"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("img",{src:s(7581).A,alt:"ABTest_templateworkflows",style:{maxHeight:"80vh",width:"100%",objectFit:"contain"}})}),"\n",(0,i.jsx)(t.h3,{id:"1-aa-test-randomization-check--ab-test-hypothesis-testing",children:"1. A/A Test (randomization check) & A/B Test (hypothesis testing)"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"First, perform an A/A test to visualize and statistically verify that there is no bias between the Control Group and the Treatment Group. Then, conduct statistical tests on the outcome variable to evaluate the effect size and check the p-value."})}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("img",{src:s(2670).A,alt:"AA Test and AB Test",style:{maxHeight:"80vh",width:"100%",objectFit:"contain"}})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Add a ",(0,i.jsx)(t.code,{children:"File"})," widget and load the experiment dataset."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Connect ",(0,i.jsx)(t.code,{children:"File \u2192 Distributions"})," to visualize baseline variables (e.g., past logins, purchases, demographics) split by grade. Look for overlap between control and treatment."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Connect ",(0,i.jsx)(t.code,{children:"File \u2192 AB Test"})," and set it to an ",(0,i.jsx)(t.strong,{children:"AA Test"})," (test type = Auto/AA). Select several pre-period metrics as targets. Review:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Effect size (should be near zero if randomized well)."}),"\n",(0,i.jsx)(t.li,{children:"p-value (should be non-significant (> 0.05); a small p-value hints at allocation bias)."}),"\n",(0,i.jsx)(t.li,{children:"If you see systematic differences, investigate assignment logic before trusting AB results."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Add another ",(0,i.jsx)(t.code,{children:"AB Test"})," widget connected to ",(0,i.jsx)(t.code,{children:"File"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Pick the post-period target metric (e.g., num_login)."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Interpret:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Effect size"})," and confidence interval."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"p-value"})," and power. If p-value is borderline and power is low, consider variance reduction (next section)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"2-cuped-variance-reduction",children:"2. CUPED (variance reduction)"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"The A/B test results are flat! Before giving up, let's sharpen our view. Sometimes the signal is drowned out by the natural variance in user behavior. We use CUPED (Controlled Experiments Using Pre-Existing Data) to subtract this noise and increase statistical power."})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"CUPED is a method proposed by Meta researchers to reduce variance in A/B tests and improve statistical power (Deng et al., 2013). In a standard A/B test, even with random assignment, individual behavioral variability can be large, requiring a substantial sample size to detect experimental effects. CUPED addresses this issue by using pre-experiment data as covariates, based on the idea of reducing noise."}),"\n"]}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("img",{src:s(979).A,alt:"CUPED",style:{maxHeight:"80vh",width:"100%",objectFit:"contain"}})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Connect ",(0,i.jsx)(t.code,{children:"File \u2192 Regression Analysis"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["In ",(0,i.jsx)(t.code,{children:"Features"}),", select pre-experiment covariates (e.g., past 14d logins/purchases). Set the post-period outcome as the target. Regularization: None (for a plain CUPED baseline), or add if you have many covariates."]}),"\n",(0,i.jsxs)(t.li,{children:["From the regression output, send ",(0,i.jsx)(t.strong,{children:"Predictions \u2192 AB Test"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Re-run the AB test on ",(0,i.jsx)(t.strong,{children:"residuals"}),". A smaller standard error and lower p-value indicates CUPED successfully reduced variance."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"P-value was reduced but still not statistically significant. Let's move on to the next analysis."}),"\n",(0,i.jsx)(t.h3,{id:"3-stratification-and-clustering-segment-effects",children:"3. Stratification and Clustering (segment effects)"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:'If the average effect is zero, but the p-value is dropping, it\u2019s possible that positive and negative effects are canceling each other out. Let\'s hypothesize that "Heavy Users" might like the new product feature, while "Light Users" find it cluttered. Let\u2019s explore the data and identify differences in effect size across segments. Here, we stratify or cluster the data to segment users and estimate the effect size for each segment.'})}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("img",{src:s(8452).A,alt:"Segmentation and Clustering",style:{maxHeight:"80vh",width:"100%",objectFit:"contain"}})}),"\n",(0,i.jsx)(t.h4,{id:"stratification",children:"Stratification"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Define Segments"}),": ",(0,i.jsx)(t.code,{children:"File \u2192 Select Rows"})," to create a segment, e.g., ",(0,i.jsx)(t.strong,{children:"active users"})," with ",(0,i.jsx)(t.code,{children:"past_login_14d > 7"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Test per Segment"}),":"]}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Send ",(0,i.jsx)(t.strong,{children:"Matching Data \u2192 AB Test"})," for the active segment."]}),"\n",(0,i.jsxs)(t.li,{children:["Send ",(0,i.jsx)(t.strong,{children:"Unmatched Data \u2192 AB Test"})," for the inactive segment."]}),"\n"]}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsx)(t.li,{children:"Compare effect sizes and p-values across segments."}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"clustering-optional",children:"Clustering (optional)"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"If you don't have a clear hypothesis, let Clustering find the segments."})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"File \u2192 Select Columns"})," to choose clustering features (e.g., past logins, purchases)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Select Columns \u2192 k-Means"})," (k=3 as a start; normalize features)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"k-Means \u2192 Scatter Plot"})," to color users by cluster and understand their profiles."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"k-Means \u2192 Select Rows (Cluster#1) \u2192 AB Test"})," to estimate effects per cluster. Repeat for other clusters."]}),"\n",(0,i.jsx)(t.li,{children:"Summarize which clusters respond positively and which do not."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"4-causal-inference-for-cate-estimate",children:"4. Causal inference for CATE estimate"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"We now know the effect varies by user. Instead of manually guessing segments, let's use Causal AI to predict the exact Treatment Effect (CATE) for every single user. Use these prediction results to gain a deeper understanding of your supporters\u2019 personas."})}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("img",{src:s(698).A,alt:"Causal Forest DML for CATE",style:{maxHeight:"80vh",width:"100%",objectFit:"contain"}})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Causal Forest DML"}),": ",(0,i.jsx)(t.code,{children:"File \u2192 Forest DML"}),". ",(0,i.jsx)(t.code,{children:"Causal Forest Double Machine Learning"})," is designed to robustly estimate Conditional Average Treatment Effects (CATE) by combining orthogonalization with a causal forest for heterogeneous treatment effect modeling. ",(0,i.jsx)(t.em,{children:'-- Susan Athey "Generalized Random Forests" (2019)'})]}),"\n",(0,i.jsxs)(t.li,{children:["Inspect:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Effect Model Coefficient"})," in the ",(0,i.jsx)(t.code,{children:"Forest DML"})," suggests that ",(0,i.jsx)(t.code,{children:"past_14d_aov"})," is an important factors for the treatment effect."]}),"\n",(0,i.jsxs)(t.li,{children:["Discretize ",(0,i.jsx)(t.code,{children:"past_14d_aov"})," to 5 segments (very high ~ very low). to make comparisons easier. ",(0,i.jsx)(t.code,{children:"Preprocess"})," widget comes in handy."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"Understand Personalization Strategy"}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"In the high-AOV segment, a relatively high CATE is observed, while in the low-AOV segment, the CATE is relatively lower. This suggests that our idea appears to be an effective intervention for users with high AOV."}),"\n",(0,i.jsx)(t.li,{children:"Use these insights to target future rollouts (e.g., enable the feature only for high-CATE segments)."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"5-refining-our-strategy",children:"5. Refining our strategy"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:'By moving beyond simple averages, we turned a "failed" experiment into a strategic insight. Here is what we found and what we propose.'})}),"\n",(0,i.jsxs)(t.h4,{id:"1-the-discovery-inactive---high-aov-users",children:["1. ",(0,i.jsx)(t.strong,{children:"The Discovery: Inactive - High AOV Users"})]}),"\n",(0,i.jsx)(t.p,{children:"Initial A/B test results showed a flat trend overall. However, through Stratification and Causal Forest DML analysis, we uncovered a striking contrast:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Inactive & High-AOV Users: Showed a statistically significant uplift in engagement and conversion."}),"\n",(0,i.jsx)(t.li,{children:'Interpretation: For users who are unfamiliar with our product catalog (New Users) or haven\'t visited in a while (Dormant Users), this feature successfully acts as a "activation engine".'}),"\n"]}),"\n",(0,i.jsxs)(t.h4,{id:"2-strategic-proposal-pivot-to-activation--reactivation",children:["2. ",(0,i.jsx)(t.strong,{children:'Strategic Proposal: Pivot to "Activation & Reactivation"'})]}),"\n",(0,i.jsx)(t.p,{children:"Instead of a general rollout (which risks annoying our loyal base), we propose repacking this feature as a dedicated Growth Tool."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Targeted Rollout: Enable the widget exclusively for:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"New Users: To assist with onboarding and first purchase."}),"\n",(0,i.jsx)(t.li,{children:'Dormant Users: As part of "Welcome Back" campaigns to boost reactivation.'}),"\n",(0,i.jsx)(t.li,{children:"Low-AOV Segments: To encourage cross-selling and increase basket size.\nHide for Power Users: Keep the interface clean for high-frequency users to maintain their efficiency."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.h4,{id:"3-next-steps-long-term-value-verification",children:["3. ",(0,i.jsx)(t.strong,{children:"Next Steps: Long-term Value Verification"})]}),"\n",(0,i.jsx)(t.p,{children:"Short-term clicks don't always translate to long-term loyalty."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:'Long-term Holdout: We will maintain a small control group within the "Inactive" segment for the next 6 months.'}),"\n",(0,i.jsx)(t.li,{children:'Key Metrics: We must monitor Retention Rate and LTV to ensure the "reactivated" users stay engaged and don\'t churn after the novelty wears off.'}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Summary"}),": The data saved us from scrapping a valuable feature. By identifying who benefits (Inactive/Low-AOV), we can deploy this feature where it creates the most value\u2014turning cold traffic into active customers."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7581:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/ABTest_templateworkflows-843d9e92511ee82d63d71c3fb3dcb719.png"},8452:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/adv_tutorial_segmentation-d28c3db18c12074f4aeb1f44365249a0.png"},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>l});var n=s(6540);const i={},a=n.createContext(i);function r(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);